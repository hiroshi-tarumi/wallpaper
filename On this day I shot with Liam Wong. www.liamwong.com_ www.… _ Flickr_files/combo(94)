YUI.add("hermes-template-reorder-grid-view",(function(e,r){var a=e.Template.Handlebars.revive({compiler:[8,">= 4.3.0"],main:function(e,r,a,t,i){var l,n=e.lookupProperty||function(e,r){if(Object.prototype.hasOwnProperty.call(e,r))return e[r]};return'<div class="drag-list-container">\n\t\n</div>\n<div class="loading-indicator hidden">\n'+(null!=(l=e.invokePartial(n(t,"flickr-balls"),r,{name:"flickr-balls",data:i,indent:"\t",helpers:a,partials:t,decorators:e.decorators}))?l:"")+"</div>\n"},usePartial:!0,useData:!0}),t={};e.Array.each(["flickr-balls"],(function(r){var a=e.Template.get("hermes/"+r);a&&(t[r]=a)})),e.Template.register("hermes/reorder-grid-view",(function(r,i){return(i=i||{}).partials=i.partials?e.merge(t,i.partials):t,a(r,i)}))}),"@VERSION@",{requires:["template-base","handlebars-base","hermes-template-flickr-balls"]});YUI.add("hermes-template-drag-drop-photo-item",(function(t,a){var e=t.Template.Handlebars.revive({compiler:[8,">= 4.3.0"],main:function(t,a,e,l,n){var r,s,i=null!=a?a:t.nullContext||{},o=t.hooks.helperMissing,d="function",p=t.escapeExpression,c=t.lookupProperty||function(t,a){if(Object.prototype.hasOwnProperty.call(t,a))return t[a]};return'<div class="drag-drop-item">\n\t<div class="drag-drop-content">\n\t\t<div class="photo" style="background-image: url('+p(typeof(s=null!=(s=c(e,"displayUrl")||(null!=a?c(a,"displayUrl"):a))?s:o)===d?s.call(i,{name:"displayUrl",hash:{},data:n,loc:{start:{line:3,column:50},end:{line:3,column:64}}}):s)+')">\n\t\t</div>\n\t\t<div class="sub-photo-info-bar">\n\t\t\t<div class="details-container">\n\t\t\t\t<div class="details">\n\t\t\t\t\t<span draggable="false" class="title">'+p(typeof(s=null!=(s=c(e,"title")||(null!=a?c(a,"title"):a))?s:o)===d?s.call(i,{name:"title",hash:{},data:n,loc:{start:{line:8,column:43},end:{line:8,column:52}}}):s)+'</span>\n\t\t\t\t\t<span draggable="false" class="attribution">'+p(t.lambda(null!=(r=null!=a?c(a,"owner"):a)?c(r,"displayname"):r,a))+"</span>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t</div>\n\t</div>\n</div>\n"},useData:!0}),l={};t.Array.each([],(function(a){var e=t.Template.get("hermes/"+a);e&&(l[a]=e)})),t.Template.register("hermes/drag-drop-photo-item",(function(a,n){return(n=n||{}).partials=n.partials?t.merge(l,n.partials):l,e(a,n)}))}),"@VERSION@",{requires:["template-base","handlebars-base"]});YUI.add("reorder-grid-view",(function(e,t){var i=require("hermes-core/flog")(t),r=200;e.namespace("Views")[this.name]=e.Base.create(this.name,e.FlickrView,[],{langBundles:this.details.langBundles,initializer:function(e){this.modelParams=e.reorderGridConfig.modelParams,this.layout=e.reorderGridConfig.layout,this.layout.maxWidth=this.layout.maxWidth||100,this.layout.itemSpacing=this.layout.itemSpacing||8,this.movedPhotos=[],this.perRow=1,this.cardWidth=1,this.mouseLeaveTimeouts={},this.scrollRightPadding=0},loadState:function(){var e=this;return this.appContext.getModel(this.modelParams.registryName,this.modelParams.modelIdOrAttributes).then((function(t){e.listModel=t,e.photoCollection=e.listModel.getValue(e.modelParams.collectionAttributeName)}))},loadMore:function(){var t=this,i=(this.get("container"),0),r=this.photoCollection.size();return this.isLoadingMore=!0,r<this.photoCollection.totalItems?(this.loadingIndicator.removeClass("hidden"),i=Math.floor(r/50)+1,this.photoCollection.getPage({page:i,perPage:50}).then((function(){var e=t.photoCollection.getList().slice(r);return t.loadingIndicator.addClass("hidden"),t.appendNewItems(e),t.isLoadingMore=!1,e})).catch((function(){t.isLoadingMore=!1,t.loadingIndicator.addClass("hidden")}))):e.Promise.resolve()},buildContainer:function(){this.setContainerWithTemplate("reorder-grid-view",{})},activate:function(){var t=this,i=this.get("container");this.scrollContainer=i.ancestor(".reorder-grid-container"),this.loadingIndicator=i.one(".loading-indicator"),this.containerHeight=this.scrollContainer.get("clientHeight"),this.prepareItems(),this.registerEventHandler(e.globalEvents.subscribe("window:resize",(function(e){t.positionNodes()}))),this.registerEventHandler(e.on("reorderGridModal:doneClicked",this.handleDoneClick.bind(this))),this.registerEventHandler(this.scrollContainer.on("scroll",e.betterThrottle(this.handleScroll.bind(this),100,this,!1))),this.handleScroll(),this.throttledDragOver=e.betterThrottle(this.calculateDragOver.bind(this),200,t,!1)},prepareItems:function(){var t=this,i=this.listModel.getValue(this.modelParams.collectionAttributeName).getList();this.dragNodes=[],this.appendNewItems(i),this.dragStartId||(this.dragStartId=this.registerEventHandler(this.dragContainer.delegate("dragstart",this.handleDragStart.bind(this),".drag-item")),this.dragOverId=this.registerEventHandler(this.dragContainer.delegate("dragover",this.handleDragOver.bind(this),".drag-item")),this.dragEndId=this.registerEventHandler(this.dragContainer.delegate("dragend",this.handleDragEnd.bind(this),".drag-item")),this.dropId=this.registerEventHandler(this.dragContainer.delegate("drop",this.handleDrop.bind(this),".drag-item")),this.registerEventHandler(this.dragContainer.delegate("mouseenter",this.handleItemMouseEnter.bind(this),".drag-drop-item")),this.registerEventHandler(this.dragContainer.delegate("mouseleave",this.handleItemMouseLeave.bind(this),".drag-drop-item")),this.pageDragOverId=this.registerEventHandler(e.on("dragover",e.betterThrottle(this.handlePageDragOver.bind(this),r,this,!1))),this.dragId=this.registerEventHandler(this.dragContainer.delegate("drag",e.betterThrottle(this.handleDrag.bind(this),r,this,!1),".drag-item")),e.use("anim",(function(e){t.YAnim=e})))},appendNewItems:function(t){var i=this;this.reorderedModelList&&(this.reorderedModelList=this.reorderedModelList.concat(t)),this.dragContainer=this.get("container").one(".drag-list-container"),t.forEach((function(r,o){var a=r.getValue("owner"),d=e.PhotoModelHelper.getSizeToFit(r.id,{width:i.cardWidth,height:i.cardWidth},{sizes:r.getValue("sizes"),includeSquare:!0,cropToFit:!0}).displayUrl,s=i.templates("drag-drop-photo-item")({displayUrl:d,title:r.getValue("title"),owner:{displayname:a.getValue("displayname")}}),n=i.dragContainer.appendChild(s);i.dragNodes.push(n),n.setAttribute("draggable",!0),n.addClass("drag-item"),n.setAttribute("data-photo-id",t[o].id)})),this.positionNodes()},handleDragStart:function(t){var i,r,o,a=this,d=t._event;d.target;for(this.reorderedModelList=this.reorderedModelList||this.listModel.getValue(this.modelParams.collectionAttributeName).getList(),this.currentDragNode=t.target.ancestor(".drag-item",!0),i=0;i<this.dragNodes.length;i++)this.dragNodes[i].getAttribute("data-photo-id")===this.currentDragNode.getAttribute("data-photo-id")&&(this.currentDragNodeInitialIndex=i,this.currentDragNodeIndex=i);d.dataTransfer.effectAllowed="move",d.dataTransfer.setData("Text",this.currentDragNode.id),r=a.currentDragNode.cloneNode(!0),o=a.currentDragNode.getDOMNode().getBoundingClientRect(),r.addClass("drag-image-clone"),r.setStyle("top",o.top),r.setStyle("left",o.left),this.dragContainer.appendChild(r),d.dataTransfer.setDragImage(r.getDOMNode(),r.get("offsetWidth")/2,r.get("offsetHeight")/2),setTimeout((function(){a.currentDragNode.addClass("placeholder"),a.dragContainer.removeChild(r)}),0),this.scrollRightPadding=parseInt(this.scrollContainer.getStyle("padding-right")),this.scrollContainer.get("clientWidth")<this.scrollContainer.get("offsetWidth")&&this.scrollContainer.setStyle("padding-right",e.OverflowHelper.detectScrollbarSize(this.scrollContainer)+this.scrollRightPadding+"px"),this.scrollContainer.setStyle("overflow","hidden")},handleDragOver:function(e){var t=e._event;t.preventDefault(),t.dataTransfer.dropEffect="move",this.throttledDragOver(e)},handleDrag:function(e){var t=this.scrollContainer.getDOMNode(),i=t.getBoundingClientRect(),r=this.mousePositionY-i.top;r<20?new this.YAnim.Anim({duration:.2,node:this.scrollContainer,to:{scroll:[0,t.scrollTop-150]}}).run():r>i.height-20&&new this.YAnim.Anim({duration:.2,node:this.scrollContainer,to:{scroll:[0,t.scrollTop+150]}}).run()},calculateDragOver:function(e){var t,i,r=e.target.ancestor(".drag-item",!0),o=(r.getDOMNode(),0);if(r&&r.getAttribute("data-photo-id")!==this.currentDragNode.getAttribute("data-photo-id")){for(i=0;i<this.dragNodes.length;i++)if(this.dragNodes[i].getAttribute("data-photo-id")===this.currentDragNode.getAttribute("data-photo-id")){o=i,this.dragNodes.splice(i,1),t=this.reorderedModelList.splice(i,1)[0];break}for(i=0;i<this.dragNodes.length;i++)if(this.dragNodes[i].getAttribute("data-photo-id")===r.getAttribute("data-photo-id")){this.currentDragNodeIndex=o>i?i:i+1,this.dragNodes.splice(this.currentDragNodeIndex,0,this.currentDragNode),this.reorderedModelList.splice(this.currentDragNodeIndex,0,t);break}this.positionNodes(!0)}},handleDragEnd:function(t){var i=t.target.ancestor(".drag-item",!0);t.preventDefault(),i.removeClass("placeholder"),this.currentDragNodeInitialIndex!==this.currentDragNodeIndex&&-1===this.movedPhotos.indexOf(i.getAttribute("data-photo-id"))&&(e.fire("reorderGrid:itemMoved"),this.movedPhotos.push(i.getAttribute("data-photo-id"))),this.scrollContainer.setStyle("padding-right",this.scrollRightPadding),this.scrollContainer.setStyle("overflow","auto")},handleDrop:function(e){e.preventDefault()},handleDoneClick:function(){this.queueReorder()},queueReorder:function(){var t=this,r={};if(0!==this.movedPhotos.length){if(this.shouldReorder=!1,!this.isReordering)return this.isReordering=!0,this.dragNodes.forEach((function(e,i){for(var o=0;o<t.movedPhotos.length;o++)if(t.movedPhotos[o]===e.getAttribute("data-photo-id")){r[e.getAttribute("data-photo-id")]=i+1;break}})),e.fire("reorderGrid:saveStarted",{isSaving:!0}),this.listModel.reorderPhotosRemote(r).then((function(i){t.isReordering=!1,t.movedPhotos=[],t.listModel.getValue(t.modelParams.collectionAttributeName).getList().forEach((function(e){t.listModel.getValue(t.modelParams.collectionAttributeName).remove({id:e.id})})),t.listModel.getValue(t.modelParams.collectionAttributeName).concat(t.reorderedModelList),t.shouldReorder?t.queueReorder():e.fire("reorderGrid:saveFinished",{response:i})})).catch((function(r){t.isReordering=!1,e.fire("reorderGrid:saveFinished",{error:r}),i.error("Error reordering photos",{err:r})}));this.shouldReorder=!0}},positionNodes:function(e){for(var t=this,i=t.dragContainer.getDOMNode().getBoundingClientRect().width,r=0,o=this.layout.maxWidth+1;o>this.layout.maxWidth;)o=i/++r-this.layout.itemSpacing.horizontal;if(o<=0&&(o=this.layout.maxWidth),this.perRow=r,this.cardWidth=o,e){var a=this.dragNodes.indexOf(this.currentDragNode),d=a<this.dragNodes.length?this.dragNodes[a+1]:null;this.dragContainer.removeChild(this.currentDragNode),d?t.dragContainer.insertBefore(this.currentDragNode,d):t.dragContainer.appendChild(this.currentDragNode),this.hideOutsideRows()}else this.dragContainer.set("innerHTML","");this.dragNodes.forEach((function(i,r){i.setAttribute("draggable",!0),i.setStyle("width",o),i.setStyle("height",o),i.setStyle("marginBottom",t.layout.itemSpacing.vertical),i.setStyle("marginLeft",t.layout.itemSpacing.horizontal/2),i.setStyle("marginRight",t.layout.itemSpacing.horizontal/2),e||t.dragContainer.appendChild(i)})),t.dragContainer.getDOMNode().getBoundingClientRect().width!==i&&this.positionNodes(e)},handleItemMouseEnter:function(e){var t=e.target.ancestor(".drag-drop-item",!0);clearTimeout(this.mouseLeaveTimeouts[t.getAttribute("data-photo-id")]),t.one(".sub-photo-info-bar").addClass("shown"),setTimeout((function(){t.addClass("hovered")}),0)},handleItemMouseLeave:function(e){var t=e.target.ancestor(".drag-drop-item",!0);t.removeClass("hovered"),this.mouseLeaveTimeouts[t.getAttribute("data-photo-id")]=setTimeout((function(){t.one(".sub-photo-info-bar").removeClass("shown")}),200)},handleScroll:function(e){this.hideOutsideRows(),this.checkLoadMore(e)},handlePageDragOver:function(e){this.mousePositionY=e.clientY},hideOutsideRows:function(){var e=this,t=this.scrollContainer.get("scrollTop"),i=e.cardWidth+e.layout.itemSpacing.vertical;this.dragNodes.forEach((function(r,o){var a=Math.floor(o/e.perRow),d=a===Math.floor((e.dragNodes.length-1)/e.perRow)&&e.dragNodes.length%e.perRow!=0;a*i<t-2*i||a*(e.cardWidth+e.layout.itemSpacing.vertical)>t+e.containerHeight+i?r.addClass("invisible"):r.removeClass("invisible"),d&&e.photoCollection.size()<e.photoCollection.totalItems?r.addClass("hidden"):r.removeClass("hidden")}))},checkLoadMore:function(e){var t=this.scrollContainer.get("scrollTop"),i=this.scrollContainer.get("scrollHeight");!this.isLoadingMore&&t+this.containerHeight+200>i&&this.loadMore()}},{ATTRS:{}})}),"@VERSION@",{requires:["flickr-view","hermes-template-reorder-grid-view","hermes-template-drag-drop-photo-item","photo-model-helper"],optionalRequires:["hermes-core"],langBundles:["common"]});YUI.add("reorder-grid-modal-view",(function(e,i){require("hermes-core/flog")(i);e.namespace("Views")[this.name]=e.Base.create(this.name,e.FlickrView,[],{langBundles:this.details.langBundles,initializer:function(e){this.params=e,this.dragTipHtml=this.intlMessage({intlName:"reorder.REORDER_TIP"}),this.dragErrorHtml=this.intlMessage({intlName:"reorder.REORDER_WENT_WRONG"})},subviewConfig:{"reorder-grid-view":{requiredToShowOnClient:!0,requiredToShowOnServer:!1}},buildContainer:function(){this.confirmText=this.intlMessage({intlName:"common.DONE"}),this.savingText=this.intlMessage({intlName:"photo-editor.LOADING_EXPORTING"}),this.setContainerWithTemplate("reorder-grid-modal-view",{dragTipHtml:this.dragTipHtml,dragErrorHtml:this.dragErrorHtml,confirmText:this.confirmText,cancelText:this.intlMessage({intlName:"common.CANCEL"})})},activate:function(){var i=this.get("container");this.doneButton=i.one(".confirm-button"),this.cancelButton=i.one(".cancel-button"),this.dragTipNode=i.one(".drag-tip"),this.dragErrorNode=i.one(".drag-error"),this.dragTryAgainButton=i.one(".try-again-button"),this.reorderGrid=this.subviews["reorder-grid-view"],this.registerEventHandler(this.doneButton.on("click",this.handleDoneClick.bind(this))),this.registerEventHandler(this.cancelButton.on("click",this.handleCancelClick.bind(this))),this.registerEventHandler(this.dragTryAgainButton.on("click",this.handleDragTryAgainClick.bind(this))),this.registerEventHandler(e.on("reorderGrid:saveStarted",this.handleDragSaveStart.bind(this))),this.registerEventHandler(e.on("reorderGrid:saveFinished",this.handleDragSaveFinish.bind(this))),this.registerEventHandler(e.once("reorderGrid:itemMoved",this.handleFirstItemMove.bind(this)))},handleDragSaveStart:function(e){this.doneButton.set("innerHTML",this.savingText),this.doneButton.setAttribute("disabled")},handleDragSaveFinish:function(i){this.dragTipNode.toggleClass("hidden",!!i.error),this.dragErrorNode.toggleClass("hidden",!i.error),this.doneButton.set("innerHTML",this.confirmText),this.doneButton.removeAttribute("disabled"),i.error||e.fire("reorderGridModal:close")},handleDragTryAgainClick:function(){this.reorderGrid.queueReorder()},handleDoneClick:function(){e.fire("reorderGridModal:doneClicked")},handleCancelClick:function(){e.fire("reorderGridModal:close")},handleFirstItemMove:function(){this.doneButton.removeAttribute("disabled")}},{ATTRS:{}})}),"@VERSION@",{requires:["flickr-view","hermes-template-reorder-grid-modal-view","reorder-grid-view"],optionalRequires:["hermes-core"],langBundles:["common","photo-editor","reorder"]});YUI.add("hermes-lang-reorder",(function(e,r){e.Intl.add("hermes/reorder","en-US",{REORDER:[{type:0,value:"Reorder"}],REORDER_ITEMS:[{type:0,value:"Reorder items"}],REORDER_TIP:[{type:0,value:"Drag and drop images to change their order"}],REORDER_WENT_WRONG:[{type:0,value:'Something went wrong. The new order wasn’t saved. <a role="button" class="try-again-button">Try again.</a>'}]})}),"@VERSION@",{requires:["intl"]});YUI.add("hermes-template-gallery-page-view",(function(t,n){var e=t.Template.Handlebars.revive({1:function(t,n,e,l,a){var s,i=t.lookupProperty||function(t,n){if(Object.prototype.hasOwnProperty.call(t,n))return t[n]};return null!=(s=i(e,"if").call(null!=n?n:t.nullContext||{},null!=n?i(n,"isGalleryOwner"):n,{name:"if",hash:{},fn:t.program(2,a,0),inverse:t.noop,data:a,loc:{start:{line:13,column:4},end:{line:18,column:11}}}))?s:""},2:function(t,n,e,l,a){var s=t.lookupProperty||function(t,n){if(Object.prototype.hasOwnProperty.call(t,n))return t[n]};return'\t\t\t\t\t<a role="button" class="action edit" tabindex="0">\n\t\t\t\t\t\t<svg class="icon icon-edit"><use xlink:href="#icon-edit"></use></svg>\n\t\t\t\t\t\t<span>'+t.escapeExpression((s(e,"intlMessage")||n&&s(n,"intlMessage")||t.hooks.helperMissing).call(null!=n?n:t.nullContext||{},{name:"intlMessage",hash:{intlName:"common.EDIT"},data:a,loc:{start:{line:16,column:12},end:{line:16,column:51}}}))+"</span>\n\t\t\t\t\t</a>\n"},4:function(t,n,e,l,a){return" hidden"},6:function(t,n,e,l,a){return" empty"},8:function(t,n,e,l,a){var s=null!=n?n:t.nullContext||{},i=t.hooks.helperMissing,o=t.escapeExpression,c=t.lookupProperty||function(t,n){if(Object.prototype.hasOwnProperty.call(t,n))return t[n]};return'\t\t\t\t\t<a role="button" class="button add-photo-button">\n\t\t\t\t\t\t<svg class="icon icon-add"><use xlink:href="#icon-add"></use></svg>\n\t\t\t\t\t\t<span>'+o((c(e,"intlMessage")||n&&c(n,"intlMessage")||i).call(s,{name:"intlMessage",hash:{intlName:"gallery.GALLERY_ADD"},data:a,loc:{start:{line:66,column:12},end:{line:66,column:60}}}))+'</span>\n\t\t\t\t\t</a>\n\t\t\t\t\t<a role="button" class="button reorder-button">\n\t\t\t\t\t\t<svg class="icon icon-move"><use xlink:href="#icon-move"></use></svg>\n\t\t\t\t\t\t<span>'+o((c(e,"intlMessage")||n&&c(n,"intlMessage")||i).call(s,{name:"intlMessage",hash:{intlName:"reorder.REORDER"},data:a,loc:{start:{line:70,column:12},end:{line:70,column:56}}}))+"</span>\n\t\t\t\t\t</a>\n"},10:function(t,n,e,l,a){return" selected"},compiler:[8,">= 4.3.0"],main:function(t,n,e,l,a){var s,i,o=null!=n?n:t.nullContext||{},c=t.hooks.helperMissing,r=t.escapeExpression,u="function",m=t.lookupProperty||function(t,n){if(Object.prototype.hasOwnProperty.call(t,n))return t[n]};return r((m(e,"outlet")||n&&m(n,"outlet")||c).call(o,null!=n?m(n,"global-nav-view"):n,{name:"outlet",hash:{},data:a,loc:{start:{line:1,column:0},end:{line:1,column:26}}}))+'\n\n<div class="action-bar">\n\t<div class="action-bar-content fluid-centered">\n\t\t<div class="back-link-container">\n\t\t\t<a class="back-link" href="'+r(typeof(i=null!=(i=m(e,"backUrl")||(null!=n?m(n,"backUrl"):n))?i:c)===u?i.call(o,{name:"backUrl",hash:{},data:a,loc:{start:{line:6,column:30},end:{line:6,column:41}}}):i)+'">\n\t\t\t\t<svg class="icon icon-back"><use xlink:href="#icon-back"></use></svg>\n\t\t\t\t<span>'+r((m(e,"intlMessage")||n&&m(n,"intlMessage")||c).call(o,{name:"intlMessage",hash:{intlName:"gallery.BACK_TO_GALLERIES_LIST"},data:a,loc:{start:{line:8,column:10},end:{line:8,column:68}}}))+'</span>\n\t\t\t</a>\n\t\t</div>\n\t\t<div class="actions">\n'+(null!=(s=m(e,"if").call(o,null!=n?m(n,"signedIn"):n,{name:"if",hash:{},fn:t.program(1,a,0),inverse:t.noop,data:a,loc:{start:{line:12,column:3},end:{line:19,column:10}}}))?s:"")+'\t\t\t<a role="button" class="action comment" tabindex="0">\n\t\t\t\t<svg class="icon icon-comment_hollow"><use xlink:href="#icon-comment_hollow"></use></svg>\n\t\t\t\t<span>'+r((m(e,"intlMessage")||n&&m(n,"intlMessage")||c).call(o,{name:"intlMessage",hash:{intlName:"stats.COMMENTS"},data:a,loc:{start:{line:22,column:10},end:{line:22,column:52}}}))+'</span>\n\t\t\t</a>\n\t\t\t<a role="button" class="action share" tabindex="0">\n\t\t\t\t<svg class="icon icon-share_hollow"><use xlink:href="#icon-share_hollow"></use></svg>\n\t\t\t\t<span>'+r((m(e,"intlMessage")||n&&m(n,"intlMessage")||c).call(o,{name:"intlMessage",hash:{intlName:"share-modal.FLICKR_SHARE"},data:a,loc:{start:{line:26,column:10},end:{line:26,column:62}}}))+'</span>\n\t\t\t</a>\n\t\t</div>\n\t</div>\n</div>\n\n<div role="main" class="fluid-centered gallery-page-container">\n\t<section class="details-section">\n\t\t<header>\n\t\t\t<h1>'+r(typeof(i=null!=(i=m(e,"title")||(null!=n?m(n,"title"):n))?i:c)===u?i.call(o,{name:"title",hash:{},data:a,loc:{start:{line:35,column:7},end:{line:35,column:16}}}):i)+"</h1>\n\t\t\t<p>"+r((m(e,"renderTrustedMarkup")||n&&m(n,"renderTrustedMarkup")||c).call(o,null!=n?m(n,"galleryByString"):n,{name:"renderTrustedMarkup",hash:{},data:a,loc:{start:{line:36,column:6},end:{line:36,column:45}}}))+'</p>\n\t\t</header>\n\t\t<div class="description short'+(null!=(s=m(e,"if").call(o,null!=n?m(n,"shortDescription"):n,{name:"if",hash:{},fn:t.noop,inverse:t.program(4,a,0),data:a,loc:{start:{line:38,column:31},end:{line:38,column:69}}}))?s:"")+'">\n\t\t\t<p>\n\t\t\t\t'+r((m(e,"renderTrustedMarkup")||n&&m(n,"renderTrustedMarkup")||c).call(o,null!=n?m(n,"shortDescription"):n,{name:"renderTrustedMarkup",hash:{},data:a,loc:{start:{line:40,column:4},end:{line:40,column:44}}}))+'\n\t\t\t</p>\n\t\t\t<a role="button" class="read-more-button hidden" tabindex="0">'+r((m(e,"intlHTMLMessage")||n&&m(n,"intlHTMLMessage")||c).call(o,{name:"intlHTMLMessage",hash:{intlName:"gallery.DESCRIPTION_READ_MORE"},data:a,loc:{start:{line:42,column:65},end:{line:42,column:126}}}))+'</a>\n\t\t\t<a role="button" class="read-less-button hidden" tabindex="0">'+r((m(e,"intlMessage")||n&&m(n,"intlMessage")||c).call(o,{name:"intlMessage",hash:{intlName:"gallery.DESCRIPTION_READ_LESS"},data:a,loc:{start:{line:43,column:65},end:{line:43,column:122}}}))+'</a>\n\t\t</div>\n\t\t<div class="stats">\n\t\t\t<span class="stat photo-count">\n\t\t\t\t'+r((m(e,"intlHTMLMessage")||n&&m(n,"intlHTMLMessage")||c).call(o,{name:"intlHTMLMessage",hash:{countString:null!=n?m(n,"itemCountString"):n,itemCount:null!=n?m(n,"itemCount"):n,intlName:"common.ITEM_COUNT_FORMATTED"},data:a,loc:{start:{line:47,column:4},end:{line:47,column:110}}}))+'\n\t\t\t</span>\n\t\t\t<span class="stats-separator">&middot;</span>\n\t\t\t<span class="stat view-count">\n\t\t\t\t'+r((m(e,"intlHTMLMessage")||n&&m(n,"intlHTMLMessage")||c).call(o,{name:"intlHTMLMessage",hash:{countString:null!=n?m(n,"viewCountString"):n,viewCount:null!=n?m(n,"viewCount"):n,intlName:"common.VIEW_COUNT_FORMATTED"},data:a,loc:{start:{line:51,column:4},end:{line:51,column:110}}}))+'\n\t\t\t</span>\n\t\t\t<span class="stats-separator">&middot;</span>\n\t\t\t<a role="button" class="stat comment-count">\n\t\t\t\t'+r((m(e,"intlHTMLMessage")||n&&m(n,"intlHTMLMessage")||c).call(o,{name:"intlHTMLMessage",hash:{countString:null!=n?m(n,"commentCountString"):n,commentCount:null!=n?m(n,"commentCount"):n,intlName:"common.COMMENT_COUNT_FORMATTED"},data:a,loc:{start:{line:55,column:4},end:{line:55,column:122}}}))+'\n\t\t\t</a>\n\t\t</div>\n\t</section>\n\t<section class="photos-section'+(null!=(s=m(e,"if").call(o,null!=n?m(n,"isEmpty"):n,{name:"if",hash:{},fn:t.program(6,a,0),inverse:t.noop,data:a,loc:{start:{line:59,column:31},end:{line:59,column:59}}}))?s:"")+'">\n\t\t<header class="photos-section-header">\n\t\t\t<div class="photos-section-details">\n\t\t\t\t<div class="options">\n'+(null!=(s=m(e,"if").call(o,null!=n?m(n,"isGalleryOwner"):n,{name:"if",hash:{},fn:t.program(8,a,0),inverse:t.noop,data:a,loc:{start:{line:63,column:5},end:{line:72,column:12}}}))?s:"")+'\t\t\t\t</div>\n\t\t\t</div>\n\t\t\t<div class="layout-tabs">\n\t\t\t\t<a role="button" class="tab grid'+(null!=(s=m(e,"if").call(o,null!=n?m(n,"gridLayout"):n,{name:"if",hash:{},fn:t.program(10,a,0),inverse:t.noop,data:a,loc:{start:{line:76,column:36},end:{line:76,column:70}}}))?s:"")+'" title="'+r((m(e,"intlMessage")||n&&m(n,"intlMessage")||c).call(o,{name:"intlMessage",hash:{intlName:"search.THUMBNAIL_VIEW"},data:a,loc:{start:{line:76,column:79},end:{line:76,column:128}}}))+'">\n\t\t\t\t\t<svg class="icon icon-thumbnail_medium"><use xlink:href="#icon-thumbnail_medium"></use></svg>\n\t\t\t\t</a>\n\t\t\t\t<a role="button" class="tab justified'+(null!=(s=m(e,"if").call(o,null!=n?m(n,"justifiedLayout"):n,{name:"if",hash:{},fn:t.program(10,a,0),inverse:t.noop,data:a,loc:{start:{line:79,column:41},end:{line:79,column:80}}}))?s:"")+'" title="'+r((m(e,"intlMessage")||n&&m(n,"intlMessage")||c).call(o,{name:"intlMessage",hash:{intlName:"search.JUSTIFIED_VIEW"},data:a,loc:{start:{line:79,column:89},end:{line:79,column:138}}}))+'">\n\t\t\t\t\t<svg class="icon icon-thumbnail_justified"><use xlink:href="#icon-thumbnail_justified"></use></svg>\n\t\t\t\t</a>\n\t\t\t\t<a role="button" class="tab large'+(null!=(s=m(e,"if").call(o,null!=n?m(n,"largeLayout"):n,{name:"if",hash:{},fn:t.program(10,a,0),inverse:t.noop,data:a,loc:{start:{line:82,column:37},end:{line:82,column:72}}}))?s:"")+'" title="'+r((m(e,"intlMessage")||n&&m(n,"intlMessage")||c).call(o,{name:"intlMessage",hash:{intlName:"gallery.LARGE_VIEW_LAYOUT_TITLE"},data:a,loc:{start:{line:82,column:81},end:{line:82,column:140}}}))+'">\n\t\t\t\t\t<svg class="icon icon-thumbnail_large"><use xlink:href="#icon-thumbnail_large"></use></svg>\n\t\t\t\t</a>\n\t\t\t</div>\n\t\t</header>\n\n\t\t<div class="photo-list-container">\n\t\t\t'+r((m(e,"outlet")||n&&m(n,"outlet")||c).call(o,null!=n?m(n,"photo-list-view"):n,{name:"outlet",hash:{},data:a,loc:{start:{line:89,column:3},end:{line:89,column:29}}}))+'\n\t\t</div>\n\n\t\t<div class="empty-state-container">\n\t\t\t<div class="empty-state-content">\n\t\t\t\t<h3>'+r((m(e,"intlMessage")||n&&m(n,"intlMessage")||c).call(o,{name:"intlMessage",hash:{intlName:"gallery.NOTHING_HERE_YET"},data:a,loc:{start:{line:94,column:8},end:{line:94,column:59}}}))+"</h3>\n\t\t\t\t<p>"+r((m(e,"preventOrphans")||n&&m(n,"preventOrphans")||c).call(o,(m(e,"intlMessage")||n&&m(n,"intlMessage")||c).call(o,{name:"intlMessage",hash:{intlName:"gallery.NOTHING_HERE_YET_DETAILS"},data:a,loc:{start:{line:95,column:24},end:{line:95,column:81}}}),{name:"preventOrphans",hash:{},data:a,loc:{start:{line:95,column:7},end:{line:95,column:83}}}))+'</p>\n\t\t\t\t<button class="large empty-add-button">'+r((m(e,"intlMessage")||n&&m(n,"intlMessage")||c).call(o,{name:"intlMessage",hash:{intlName:"gallery.ADD_PHOTOS_AND_VIDEOS"},data:a,loc:{start:{line:96,column:43},end:{line:96,column:99}}}))+'</button>\n\t\t\t</div>\n\t\t</div>\n\t</section>\n\n\t<section class="comments-section">\n\t\t<h2>'+r((m(e,"intlMessage")||n&&m(n,"intlMessage")||c).call(o,{name:"intlMessage",hash:{intlName:"stats.COMMENTS"},data:a,loc:{start:{line:102,column:6},end:{line:102,column:48}}}))+"</h2>\n\t\t"+r((m(e,"outlet")||n&&m(n,"outlet")||c).call(o,null!=n?m(n,"gallery-comments-view"):n,{name:"outlet",hash:{},data:a,loc:{start:{line:103,column:2},end:{line:103,column:34}}}))+"\n\t</section>\n\n\t\n</div>\n\n"+r((m(e,"outlet")||n&&m(n,"outlet")||c).call(o,null!=n?m(n,"footer-full-view"):n,{name:"outlet",hash:{},data:a,loc:{start:{line:109,column:0},end:{line:109,column:27}}}))+"\n"},useData:!0}),l={};t.Array.each([],(function(n){var e=t.Template.get("hermes/"+n);e&&(l[n]=e)})),t.Template.register("hermes/gallery-page-view",(function(n,a){return(a=a||{}).partials=a.partials?t.merge(l,a.partials):l,e(n,a)}))}),"@VERSION@",{requires:["template-base","handlebars-base"]});YUI.add("hermes-template-dynamic-page-head",(function(n,l){var e=n.Template.Handlebars.revive({1:function(n,l,e,t,o){var a,r=n.lookupProperty||function(n,l){if(Object.prototype.hasOwnProperty.call(n,l))return n[l]};return'<meta name="title" content="'+n.escapeExpression("function"==typeof(a=null!=(a=r(e,"title")||(null!=l?r(l,"title"):l))?a:n.hooks.helperMissing)?a.call(null!=l?l:n.nullContext||{},{name:"title",hash:{},data:o,loc:{start:{line:1,column:41},end:{line:1,column:50}}}):a)+'" data-dynamic="true">'},3:function(n,l,e,t,o){var a=n.lookupProperty||function(n,l){if(Object.prototype.hasOwnProperty.call(n,l))return n[l]};return'<meta name="description" content="'+n.escapeExpression((a(e,"stripTags")||l&&a(l,"stripTags")||n.hooks.helperMissing).call(null!=l?l:n.nullContext||{},null!=l?a(l,"description"):l,{name:"stripTags",hash:{},data:o,loc:{start:{line:2,column:53},end:{line:2,column:78}}}))+'" data-dynamic="true">'},5:function(n,l,e,t,o){var a,r=n.lookupProperty||function(n,l){if(Object.prototype.hasOwnProperty.call(n,l))return n[l]};return null!=(a=r(e,"if").call(null!=l?l:n.nullContext||{},null!=l?r(l,"oembedURL"):l,{name:"if",hash:{},fn:n.program(6,o,0),inverse:n.program(8,o,0),data:o,loc:{start:{line:5,column:0},end:{line:11,column:7}}}))?a:""},6:function(n,l,e,t,o){var a,r=null!=l?l:n.nullContext||{},i=n.hooks.helperMissing,u="function",c=n.escapeExpression,p=n.lookupProperty||function(n,l){if(Object.prototype.hasOwnProperty.call(n,l))return n[l]};return'<link rel="alternate" type="application/json+oembed" href="https://www.flickr.com/services/oembed/?format=json&url='+c(typeof(a=null!=(a=p(e,"oembedURL")||(null!=l?p(l,"oembedURL"):l))?a:i)===u?a.call(r,{name:"oembedURL",hash:{},data:o,loc:{start:{line:6,column:115},end:{line:6,column:128}}}):a)+'" title="'+c(typeof(a=null!=(a=p(e,"title")||(null!=l?p(l,"title"):l))?a:i)===u?a.call(r,{name:"title",hash:{},data:o,loc:{start:{line:6,column:137},end:{line:6,column:146}}}):a)+'">\n<link rel="alternate" type="application/xml+oembed" href="https://www.flickr.com/services/oembed/?format=xml&url='+c(typeof(a=null!=(a=p(e,"oembedURL")||(null!=l?p(l,"oembedURL"):l))?a:i)===u?a.call(r,{name:"oembedURL",hash:{},data:o,loc:{start:{line:7,column:113},end:{line:7,column:126}}}):a)+'" title="'+c(typeof(a=null!=(a=p(e,"title")||(null!=l?p(l,"title"):l))?a:i)===u?a.call(r,{name:"title",hash:{},data:o,loc:{start:{line:7,column:135},end:{line:7,column:144}}}):a)+'">\n'},8:function(n,l,e,t,o){var a,r=n.lookupProperty||function(n,l){if(Object.prototype.hasOwnProperty.call(n,l))return n[l]};return null!=(a=r(e,"if").call(null!=l?l:n.nullContext||{},null!=l?r(l,"fullURL"):l,{name:"if",hash:{},fn:n.program(9,o,0),inverse:n.noop,data:o,loc:{start:{line:8,column:0},end:{line:11,column:0}}}))?a:""},9:function(n,l,e,t,o){var a,r=null!=l?l:n.nullContext||{},i=n.hooks.helperMissing,u="function",c=n.escapeExpression,p=n.lookupProperty||function(n,l){if(Object.prototype.hasOwnProperty.call(n,l))return n[l]};return'<link rel="alternate" type="application/json+oembed" href="https://www.flickr.com/services/oembed/?format=json&url='+c(typeof(a=null!=(a=p(e,"fullURL")||(null!=l?p(l,"fullURL"):l))?a:i)===u?a.call(r,{name:"fullURL",hash:{},data:o,loc:{start:{line:9,column:115},end:{line:9,column:126}}}):a)+'" title="'+c(typeof(a=null!=(a=p(e,"title")||(null!=l?p(l,"title"):l))?a:i)===u?a.call(r,{name:"title",hash:{},data:o,loc:{start:{line:9,column:135},end:{line:9,column:144}}}):a)+'">\n<link rel="alternate" type="application/xml+oembed" href="https://www.flickr.com/services/oembed/?format=xml&url='+c(typeof(a=null!=(a=p(e,"fullURL")||(null!=l?p(l,"fullURL"):l))?a:i)===u?a.call(r,{name:"fullURL",hash:{},data:o,loc:{start:{line:10,column:113},end:{line:10,column:124}}}):a)+'" title="'+c(typeof(a=null!=(a=p(e,"title")||(null!=l?p(l,"title"):l))?a:i)===u?a.call(r,{name:"title",hash:{},data:o,loc:{start:{line:10,column:133},end:{line:10,column:142}}}):a)+'">\n'},11:function(n,l,e,t,o){var a,r=n.lookupProperty||function(n,l){if(Object.prototype.hasOwnProperty.call(n,l))return n[l]};return'<meta property="og:title" content="'+n.escapeExpression("function"==typeof(a=null!=(a=r(e,"title")||(null!=l?r(l,"title"):l))?a:n.hooks.helperMissing)?a.call(null!=l?l:n.nullContext||{},{name:"title",hash:{},data:o,loc:{start:{line:14,column:48},end:{line:14,column:57}}}):a)+'" data-dynamic="true">'},13:function(n,l,e,t,o){var a=n.lookupProperty||function(n,l){if(Object.prototype.hasOwnProperty.call(n,l))return n[l]};return'<meta property="og:description" content="'+n.escapeExpression((a(e,"stripTags")||l&&a(l,"stripTags")||n.hooks.helperMissing).call(null!=l?l:n.nullContext||{},null!=l?a(l,"description"):l,{name:"stripTags",hash:{},data:o,loc:{start:{line:15,column:60},end:{line:15,column:85}}}))+'" data-dynamic="true">'},15:function(n,l,e,t,o){var a,r=n.lookupProperty||function(n,l){if(Object.prototype.hasOwnProperty.call(n,l))return n[l]};return'<meta property="og:type" content="'+n.escapeExpression("function"==typeof(a=null!=(a=r(e,"ogType")||(null!=l?r(l,"ogType"):l))?a:n.hooks.helperMissing)?a.call(null!=l?l:n.nullContext||{},{name:"ogType",hash:{},data:o,loc:{start:{line:16,column:48},end:{line:16,column:58}}}):a)+'" data-dynamic="true">'},17:function(n,l,e,t,o){var a,r=n.lookupProperty||function(n,l){if(Object.prototype.hasOwnProperty.call(n,l))return n[l]};return'<meta property="og:url" content="'+n.escapeExpression("function"==typeof(a=null!=(a=r(e,"fullURL")||(null!=l?r(l,"fullURL"):l))?a:n.hooks.helperMissing)?a.call(null!=l?l:n.nullContext||{},{name:"fullURL",hash:{},data:o,loc:{start:{line:17,column:48},end:{line:17,column:59}}}):a)+'" data-dynamic="true">'},19:function(n,l,e,t,o){var a,r=n.lookupProperty||function(n,l){if(Object.prototype.hasOwnProperty.call(n,l))return n[l]};return'<meta property="article:author" content="'+n.escapeExpression("function"==typeof(a=null!=(a=r(e,"ownerURL")||(null!=l?r(l,"ownerURL"):l))?a:n.hooks.helperMissing)?a.call(null!=l?l:n.nullContext||{},{name:"ownerURL",hash:{},data:o,loc:{start:{line:18,column:57},end:{line:18,column:69}}}):a)+'" data-dynamic="true">'},21:function(n,l,e,t,o){var a,r=n.lookupProperty||function(n,l){if(Object.prototype.hasOwnProperty.call(n,l))return n[l]};return null!=(a=r(e,"unless").call(null!=l?l:n.nullContext||{},null!=l?r(l,"extraOpenGraphImages"):l,{name:"unless",hash:{},fn:n.program(22,o,0),inverse:n.noop,data:o,loc:{start:{line:20,column:0},end:{line:24,column:11}}}))?a:""},22:function(n,l,e,t,o){var a,r,i=null!=l?l:n.nullContext||{},u=n.lookupProperty||function(n,l){if(Object.prototype.hasOwnProperty.call(n,l))return n[l]};return'<meta property="og:image" content="'+n.escapeExpression("function"==typeof(r=null!=(r=u(e,"openGraphImageURL")||(null!=l?u(l,"openGraphImageURL"):l))?r:n.hooks.helperMissing)?r.call(i,{name:"openGraphImageURL",hash:{},data:o,loc:{start:{line:21,column:35},end:{line:21,column:56}}}):r)+'" data-dynamic="true">\n'+(null!=(a=u(e,"if").call(i,null!=l?u(l,"openGraphImageWidth"):l,{name:"if",hash:{},fn:n.program(23,o,0),inverse:n.noop,data:o,loc:{start:{line:22,column:0},end:{line:22,column:120}}}))?a:"")+"\n"+(null!=(a=u(e,"if").call(i,null!=l?u(l,"openGraphImageHeight"):l,{name:"if",hash:{},fn:n.program(25,o,0),inverse:n.noop,data:o,loc:{start:{line:23,column:0},end:{line:23,column:123}}}))?a:"")+"\n"},23:function(n,l,e,t,o){var a,r=n.lookupProperty||function(n,l){if(Object.prototype.hasOwnProperty.call(n,l))return n[l]};return'<meta property="og:image:width" content="'+n.escapeExpression("function"==typeof(a=null!=(a=r(e,"openGraphImageWidth")||(null!=l?r(l,"openGraphImageWidth"):l))?a:n.hooks.helperMissing)?a.call(null!=l?l:n.nullContext||{},{name:"openGraphImageWidth",hash:{},data:o,loc:{start:{line:22,column:68},end:{line:22,column:91}}}):a)+'" data-dynamic="true">'},25:function(n,l,e,t,o){var a,r=n.lookupProperty||function(n,l){if(Object.prototype.hasOwnProperty.call(n,l))return n[l]};return'<meta property="og:image:height" content="'+n.escapeExpression("function"==typeof(a=null!=(a=r(e,"openGraphImageHeight")||(null!=l?r(l,"openGraphImageHeight"):l))?a:n.hooks.helperMissing)?a.call(null!=l?l:n.nullContext||{},{name:"openGraphImageHeight",hash:{},data:o,loc:{start:{line:23,column:70},end:{line:23,column:94}}}):a)+'" data-dynamic="true">'},27:function(n,l,e,t,o){var a,r=null!=l?l:n.nullContext||{},i=n.hooks.helperMissing,u="function",c=n.escapeExpression,p=n.lookupProperty||function(n,l){if(Object.prototype.hasOwnProperty.call(n,l))return n[l]};return'<meta property="og:image" content="'+c(typeof(a=null!=(a=p(e,"url")||(null!=l?p(l,"url"):l))?a:i)===u?a.call(r,{name:"url",hash:{},data:o,loc:{start:{line:27,column:35},end:{line:27,column:42}}}):a)+'" data-dynamic="true">\n<meta property="og:image:width" content="'+c(typeof(a=null!=(a=p(e,"width")||(null!=l?p(l,"width"):l))?a:i)===u?a.call(r,{name:"width",hash:{},data:o,loc:{start:{line:28,column:41},end:{line:28,column:50}}}):a)+'" data-dynamic="true">\n<meta property="og:image:height" content="'+c(typeof(a=null!=(a=p(e,"height")||(null!=l?p(l,"height"):l))?a:i)===u?a.call(r,{name:"height",hash:{},data:o,loc:{start:{line:29,column:42},end:{line:29,column:52}}}):a)+'" data-dynamic="true">\n'},29:function(n,l,e,t,o){var a,r=n.lookupProperty||function(n,l){if(Object.prototype.hasOwnProperty.call(n,l))return n[l]};return'<meta property="al:ios:url" content="flickr://flickr.com'+n.escapeExpression("function"==typeof(a=null!=(a=r(e,"url")||(null!=l?r(l,"url"):l))?a:n.hooks.helperMissing)?a.call(null!=l?l:n.nullContext||{},{name:"url",hash:{},data:o,loc:{start:{line:32,column:67},end:{line:32,column:74}}}):a)+'" data-dynamic="true">'},31:function(n,l,e,t,o){var a,r=n.lookupProperty||function(n,l){if(Object.prototype.hasOwnProperty.call(n,l))return n[l]};return'<meta property="twitter:card" content="'+n.escapeExpression("function"==typeof(a=null!=(a=r(e,"twitterCardType")||(null!=l?r(l,"twitterCardType"):l))?a:n.hooks.helperMissing)?a.call(null!=l?l:n.nullContext||{},{name:"twitterCardType",hash:{},data:o,loc:{start:{line:34,column:62},end:{line:34,column:81}}}):a)+'" data-dynamic="true">'},33:function(n,l,e,t,o){var a,r=n.lookupProperty||function(n,l){if(Object.prototype.hasOwnProperty.call(n,l))return n[l]};return'<meta property="twitter:player" content="https://embedr.flickr.com'+n.escapeExpression("function"==typeof(a=null!=(a=r(e,"embedUrl")||(null!=l?r(l,"embedUrl"):l))?a:n.hooks.helperMissing)?a.call(null!=l?l:n.nullContext||{},{name:"embedUrl",hash:{},data:o,loc:{start:{line:36,column:66},end:{line:36,column:78}}}):a)+'" data-dynamic="true">\n<meta property="twitter:player:width" content="640" data-dynamic="true">\n<meta property="twitter:player:height" content="480" data-dynamic="true">\n'},35:function(n,l,e,t,o){var a,r=n.lookupProperty||function(n,l){if(Object.prototype.hasOwnProperty.call(n,l))return n[l]};return'<meta property="twitter:title" content="'+n.escapeExpression("function"==typeof(a=null!=(a=r(e,"title")||(null!=l?r(l,"title"):l))?a:n.hooks.helperMissing)?a.call(null!=l?l:n.nullContext||{},{name:"title",hash:{},data:o,loc:{start:{line:40,column:53},end:{line:40,column:62}}}):a)+'" data-dynamic="true">'},37:function(n,l,e,t,o){var a,r=n.lookupProperty||function(n,l){if(Object.prototype.hasOwnProperty.call(n,l))return n[l]};return'<meta property="twitter:image" content="'+n.escapeExpression("function"==typeof(a=null!=(a=r(e,"openGraphImageURL")||(null!=l?r(l,"openGraphImageURL"):l))?a:n.hooks.helperMissing)?a.call(null!=l?l:n.nullContext||{},{name:"openGraphImageURL",hash:{},data:o,loc:{start:{line:41,column:65},end:{line:41,column:86}}}):a)+'" data-dynamic="true">'},39:function(n,l,e,t,o){var a=n.lookupProperty||function(n,l){if(Object.prototype.hasOwnProperty.call(n,l))return n[l]};return'<meta property="twitter:description" content="'+n.escapeExpression((a(e,"stripTags")||l&&a(l,"stripTags")||n.hooks.helperMissing).call(null!=l?l:n.nullContext||{},null!=l?a(l,"description"):l,{name:"stripTags",hash:{},data:o,loc:{start:{line:42,column:65},end:{line:42,column:90}}}))+'" data-dynamic="true">'},41:function(n,l,e,t,o){var a,r,i=null!=l?l:n.nullContext||{},u=n.hooks.helperMissing,c="function",p=n.escapeExpression,s=n.lookupProperty||function(n,l){if(Object.prototype.hasOwnProperty.call(n,l))return n[l]};return'<meta property="twitter:app:url:iphone" content="flickr://flickr.com'+p(typeof(r=null!=(r=s(e,"url")||(null!=l?s(l,"url"):l))?r:u)===c?r.call(i,{name:"url",hash:{},data:o,loc:{start:{line:44,column:68},end:{line:44,column:75}}}):r)+'" data-dynamic="true">\n<meta property="twitter:app:url:ipad" content="flickr://flickr.com'+p(typeof(r=null!=(r=s(e,"url")||(null!=l?s(l,"url"):l))?r:u)===c?r.call(i,{name:"url",hash:{},data:o,loc:{start:{line:45,column:66},end:{line:45,column:73}}}):r)+'" data-dynamic="true">\n'+(null!=(a=s(e,"if").call(i,null!=l?s(l,"fullURL"):l,{name:"if",hash:{},fn:n.program(42,o,0),inverse:n.noop,data:o,loc:{start:{line:46,column:0},end:{line:46,column:108}}}))?a:"")+"\n"},42:function(n,l,e,t,o){var a,r=n.lookupProperty||function(n,l){if(Object.prototype.hasOwnProperty.call(n,l))return n[l]};return'<meta property="twitter:app:url:googleplay" content="'+n.escapeExpression("function"==typeof(a=null!=(a=r(e,"fullURL")||(null!=l?r(l,"fullURL"):l))?a:n.hooks.helperMissing)?a.call(null!=l?l:n.nullContext||{},{name:"fullURL",hash:{},data:o,loc:{start:{line:46,column:68},end:{line:46,column:79}}}):a)+'" data-dynamic="true">'},44:function(n,l,e,t,o){var a,r,i=null!=l?l:n.nullContext||{},u=n.lookupProperty||function(n,l){if(Object.prototype.hasOwnProperty.call(n,l))return n[l]};return'<link rel="alternate" type="application/atom+xml" '+(null!=(a=u(e,"if").call(i,null!=l?u(l,"title"):l,{name:"if",hash:{},fn:n.program(45,o,0),inverse:n.noop,data:o,loc:{start:{line:49,column:65},end:{line:49,column:102}}}))?a:"")+' href="'+n.escapeExpression("function"==typeof(r=null!=(r=u(e,"url")||(null!=l?u(l,"url"):l))?r:n.hooks.helperMissing)?r.call(i,{name:"url",hash:{},data:o,loc:{start:{line:49,column:109},end:{line:49,column:116}}}):r)+'" data-dynamic="true">'},45:function(n,l,e,t,o){var a,r=n.lookupProperty||function(n,l){if(Object.prototype.hasOwnProperty.call(n,l))return n[l]};return'title="'+n.escapeExpression("function"==typeof(a=null!=(a=r(e,"title")||(null!=l?r(l,"title"):l))?a:n.hooks.helperMissing)?a.call(null!=l?l:n.nullContext||{},{name:"title",hash:{},data:o,loc:{start:{line:49,column:85},end:{line:49,column:94}}}):a)+'"'},compiler:[8,">= 4.3.0"],main:function(n,l,e,t,o){var a,r=null!=l?l:n.nullContext||{},i=n.lookupProperty||function(n,l){if(Object.prototype.hasOwnProperty.call(n,l))return n[l]};return(null!=(a=i(e,"if").call(r,null!=l?i(l,"title"):l,{name:"if",hash:{},fn:n.program(1,o,0),inverse:n.noop,data:o,loc:{start:{line:1,column:0},end:{line:1,column:79}}}))?a:"")+"\n"+(null!=(a=i(e,"if").call(r,null!=l?i(l,"description"):l,{name:"if",hash:{},fn:n.program(3,o,0),inverse:n.noop,data:o,loc:{start:{line:2,column:0},end:{line:2,column:107}}}))?a:"")+"\n\n"+(null!=(a=i(e,"if").call(r,null!=l?i(l,"title"):l,{name:"if",hash:{},fn:n.program(5,o,0),inverse:n.noop,data:o,loc:{start:{line:4,column:0},end:{line:12,column:7}}}))?a:"")+"\n"+(null!=(a=i(e,"if").call(r,null!=l?i(l,"title"):l,{name:"if",hash:{},fn:n.program(11,o,0),inverse:n.noop,data:o,loc:{start:{line:14,column:0},end:{line:14,column:86}}}))?a:"")+"\n"+(null!=(a=i(e,"if").call(r,null!=l?i(l,"description"):l,{name:"if",hash:{},fn:n.program(13,o,0),inverse:n.noop,data:o,loc:{start:{line:15,column:0},end:{line:15,column:114}}}))?a:"")+"\n"+(null!=(a=i(e,"if").call(r,null!=l?i(l,"ogType"):l,{name:"if",hash:{},fn:n.program(15,o,0),inverse:n.noop,data:o,loc:{start:{line:16,column:0},end:{line:16,column:87}}}))?a:"")+"\n"+(null!=(a=i(e,"if").call(r,null!=l?i(l,"fullURL"):l,{name:"if",hash:{},fn:n.program(17,o,0),inverse:n.noop,data:o,loc:{start:{line:17,column:0},end:{line:17,column:88}}}))?a:"")+"\n"+(null!=(a=i(e,"if").call(r,null!=l?i(l,"ownerURL"):l,{name:"if",hash:{},fn:n.program(19,o,0),inverse:n.noop,data:o,loc:{start:{line:18,column:0},end:{line:18,column:98}}}))?a:"")+"\n"+(null!=(a=i(e,"if").call(r,null!=l?i(l,"openGraphImageURL"):l,{name:"if",hash:{},fn:n.program(21,o,0),inverse:n.noop,data:o,loc:{start:{line:19,column:0},end:{line:25,column:7}}}))?a:"")+(null!=(a=i(e,"each").call(r,null!=l?i(l,"extraOpenGraphImages"):l,{name:"each",hash:{},fn:n.program(27,o,0),inverse:n.noop,data:o,loc:{start:{line:26,column:0},end:{line:30,column:9}}}))?a:"")+"\n"+(null!=(a=i(e,"if").call(r,null!=l?i(l,"url"):l,{name:"if",hash:{},fn:n.program(29,o,0),inverse:n.noop,data:o,loc:{start:{line:32,column:0},end:{line:32,column:103}}}))?a:"")+"\n\n"+(null!=(a=i(e,"if").call(r,null!=l?i(l,"twitterCardType"):l,{name:"if",hash:{},fn:n.program(31,o,0),inverse:n.noop,data:o,loc:{start:{line:34,column:0},end:{line:34,column:110}}}))?a:"")+"\n"+(null!=(a=i(e,"if").call(r,null!=l?i(l,"embedUrl"):l,{name:"if",hash:{},fn:n.program(33,o,0),inverse:n.noop,data:o,loc:{start:{line:35,column:0},end:{line:39,column:7}}}))?a:"")+(null!=(a=i(e,"if").call(r,null!=l?i(l,"title"):l,{name:"if",hash:{},fn:n.program(35,o,0),inverse:n.noop,data:o,loc:{start:{line:40,column:0},end:{line:40,column:91}}}))?a:"")+"\n"+(null!=(a=i(e,"if").call(r,null!=l?i(l,"openGraphImageURL"):l,{name:"if",hash:{},fn:n.program(37,o,0),inverse:n.noop,data:o,loc:{start:{line:41,column:0},end:{line:41,column:115}}}))?a:"")+"\n"+(null!=(a=i(e,"if").call(r,null!=l?i(l,"description"):l,{name:"if",hash:{},fn:n.program(39,o,0),inverse:n.noop,data:o,loc:{start:{line:42,column:0},end:{line:42,column:119}}}))?a:"")+"\n"+(null!=(a=i(e,"if").call(r,null!=l?i(l,"url"):l,{name:"if",hash:{},fn:n.program(41,o,0),inverse:n.noop,data:o,loc:{start:{line:43,column:0},end:{line:47,column:7}}}))?a:"")+"\n"+(null!=(a=i(e,"each").call(r,null!=l?i(l,"feeds"):l,{name:"each",hash:{},fn:n.program(44,o,0),inverse:n.noop,data:o,loc:{start:{line:49,column:0},end:{line:49,column:147}}}))?a:"")+"\n"},useData:!0}),t={};n.Array.each([],(function(l){var e=n.Template.get("hermes/"+l);e&&(t[l]=e)})),n.Template.register("hermes/dynamic-page-head",(function(l,o){return(o=o||{}).partials=o.partials?n.merge(t,o.partials):t,e(l,o)}))}),"@VERSION@",{requires:["template-base","handlebars-base"]});